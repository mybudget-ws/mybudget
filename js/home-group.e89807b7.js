"use strict";(self["webpackChunkmybudget2"]=self["webpackChunkmybudget2"]||[]).push([[168],{608:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-background"},[t("Menu"),t("div",{staticClass:"container container-wide"},[t("PageHeader",{attrs:{name:"Курсы валют"}},[e.isLoading?e._e():t("select",{directives:[{name:"model",rawName:"v-model",value:e.currency,expression:"currency"}],ref:"selectCurrencies",class:{"browser-default":e.isPhone},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currency=t.target.multiple?s:s[0]},e.change]}},e._l(e.items,(function(s){return t("option",{key:s.id,domProps:{value:s.name}},[e._v(" "+e._s(s.displayName)+" ")])})),0)]),e._m(0),t("div",{staticClass:"row"},[t("div",{staticClass:"col s12"},[e.isLoading?t("Loader"):t("table",[t("thead",[t("tr",[t("th",{staticClass:"name"},[e._v("Название")]),t("th",{staticClass:"usd right"},[e._v("Курс, "+e._s(e.defaultCurrency||"RUB"))]),t("th",[e._v("Описание")])])]),t("tbody",e._l(e.displayedItems,(function(s){return t("tr",{key:s.id},[t("td",{staticClass:"name"},[e._v(e._s(s.displayName))]),t("td",{staticClass:"usd right"},[t("pre",{staticClass:"rate"},[e._v(e._s(s.baseRate.toFixed(6)))])]),t("td",[t("span",{staticClass:"grey-text darken-1"},[e._v(e._s(s.description))])])])})),0)])],1)])],1)],1)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col s12"},[t("div",{staticClass:"chart"})])])}],i=s(4369),n=s(9529),c=s(4242),u=s(6399),d=s(6957),l=s(7965),o=s.n(l),h=s(1179),f=s.n(h);const m=new(f())(window.navigator.userAgent);var p={name:"Currencies",components:{Menu:i.A,Loader:n.A,PageHeader:c.A},props:{},data:()=>({isPhone:null!=m.phone()}),computed:{...(0,d.Jt)("currencies/*"),currency:(0,d.OH)("currencies/selected"),isSignedIn:(0,d.Jt)("user/isSignedIn"),defaultCurrency:(0,d.Jt)("user/defaultCurrency")},async mounted(){this.isSignedIn&&await this.fetchProfile(),await this.fetch({base:this.defaultCurrency}),this.selectCurrencies=M.FormSelect.init(this.$refs.selectCurrencies,{}),M.updateTextFields(),this.loadChart()},methods:{...(0,d.T1)(["currencies/fetch","user/fetchProfile"]),change(){this.loadChart()},async loadChart(){const e=await u.A.currenciesChart(this.currency,this.defaultCurrency);this.chart=o().generate({bindto:".chart",data:{x:"x",columns:e},axis:{x:{type:"timeseries",tick:{format:"%d.%m.%Y",count:14},padding:{left:0,right:0}},y:{padding:{top:20}}},point:{show:!1},grid:{x:{show:!0},y:{show:!0}}})}}},v=p,C=s(1656),y=(0,C.A)(v,a,r,!1,null,"03df7729",null),g=y.exports}}]);
//# sourceMappingURL=home-group.e89807b7.js.map