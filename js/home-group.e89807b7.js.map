{"version":3,"file":"js/home-group.e89807b7.js","mappings":"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","sources":["webpack://mybudget2/./src/views/currencies/index.vue","webpack://mybudget2/src/views/currencies/index.vue","webpack://mybudget2/./src/views/currencies/index.vue?d208","webpack://mybudget2/./src/views/currencies/index.vue?1801"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main-background\"},[_c('Menu'),_c('div',{staticClass:\"container container-wide\"},[_c('PageHeader',{attrs:{\"name\":\"Курсы валют\"}},[(!_vm.isLoading)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currency),expression:\"currency\"}],ref:\"selectCurrencies\",class:{ 'browser-default': _vm.isPhone },on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currency=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.change]}},_vm._l((_vm.items),function(curr){return _c('option',{key:curr.id,domProps:{\"value\":curr.name}},[_vm._v(\" \"+_vm._s(curr.displayName)+\" \")])}),0):_vm._e()]),_vm._m(0),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col s12\"},[(_vm.isLoading)?_c('Loader'):_c('table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"name\"},[_vm._v(\"Название\")]),_c('th',{staticClass:\"usd right\"},[_vm._v(\"Курс, \"+_vm._s(_vm.defaultCurrency || 'RUB'))]),_c('th',[_vm._v(\"Описание\")])])]),_c('tbody',_vm._l((_vm.displayedItems),function(curr){return _c('tr',{key:curr.id},[_c('td',{staticClass:\"name\"},[_vm._v(_vm._s(curr.displayName))]),_c('td',{staticClass:\"usd right\"},[_c('pre',{staticClass:\"rate\"},[_vm._v(_vm._s(curr.baseRate.toFixed(6)))])]),_c('td',[_c('span',{staticClass:\"grey-text darken-1\"},[_vm._v(_vm._s(curr.description))])])])}),0)])],1)])],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col s12\"},[_c('div',{staticClass:\"chart\"})])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class='main-background'>\n    <Menu />\n    <div class='container container-wide'>\n      <PageHeader name='Курсы валют'>\n        <select\n          v-if='!isLoading'\n          ref='selectCurrencies'\n          v-model='currency'\n          :class=\"{ 'browser-default': isPhone }\"\n          @change='change'\n        >\n          <option v-for='curr in items' :key='curr.id' :value='curr.name'>\n            {{ curr.displayName }}\n          </option>\n        </select>\n      </PageHeader>\n      <div class='row'>\n        <div class='col s12'>\n          <div class='chart' />\n        </div>\n      </div>\n      <div class='row'>\n        <div class='col s12'>\n          <Loader v-if='isLoading' />\n          <table v-else>\n            <thead>\n              <tr>\n                <th class='name'>Название</th>\n                <th class='usd right'>Курс, {{ defaultCurrency || 'RUB' }}</th>\n                <th>Описание</th>\n              </tr>\n            </thead>\n\n            <tbody>\n              <tr v-for='curr in displayedItems' :key='curr.id'>\n                <td class='name'>{{ curr.displayName }}</td>\n                <td class='usd right'>\n                  <pre class='rate'>{{ curr.baseRate.toFixed(6) }}</pre>\n                </td>\n                <td>\n                  <span class='grey-text darken-1'>{{ curr.description }}</span>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Menu from '@/components/menu';\nimport Loader from '@/components/loader';\nimport PageHeader from '@/components/page_header';\nimport api from '../../api';\nimport { get, call, sync } from 'vuex-pathify';\n\nimport c3 from 'c3';\nimport MobileDetect from 'mobile-detect';\nconst md = new MobileDetect(window.navigator.userAgent);\n\nexport default {\n  name: 'Currencies',\n  components: {\n    Menu,\n    Loader,\n    PageHeader\n  },\n  props: {},\n  data: () => ({\n    isPhone: md.phone() != null\n  }),\n  computed: {\n    ...get('currencies/*'),\n    currency: sync('currencies/selected'),\n    isSignedIn: get('user/isSignedIn'),\n    defaultCurrency: get('user/defaultCurrency')\n  },\n  async mounted() {\n    if (this.isSignedIn) {\n      await this.fetchProfile();\n    }\n    await this.fetch({ base: this.defaultCurrency });\n    /* eslint-disable */\n    this.selectCurrencies = M.FormSelect.init(this.$refs.selectCurrencies, {});\n    M.updateTextFields();\n    /* eslint-enable */\n    this.loadChart();\n  },\n  methods: {\n    ...call([\n      'currencies/fetch',\n      'user/fetchProfile'\n    ]),\n    change() {\n      this.loadChart();\n    },\n    async loadChart() {\n      const columns = await api.currenciesChart(this.currency, this.defaultCurrency);\n      this.chart = c3.generate({\n        bindto: '.chart',\n        data: {\n          x: 'x',\n          columns: columns\n        },\n        axis: {\n          x: {\n            type: 'timeseries',\n            tick: {\n              format: '%d.%m.%Y',\n              count: 14\n            },\n            padding: { left: 0, right: 0 }\n          },\n          y: {\n            padding: { top: 20 }\n          }\n        },\n        point: { show: false },\n        grid: {\n          x: { show: true },\n          y: { show: true }\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang='sass'>\n/deep/\n  .page-header\n    h3\n      justify-content: space-between\n\n      @media only screen and (max-width: 601px)\n        align-items: flex-start\n        flex-direction: column\n\n.name\n  width: 80px\n\n.usd\n  padding-right: 20px\n\n.chart\n  height: 300px\n  margin-left: -20px\n\npre.rate\n  margin: 0\n  font-size: 1.14em\n\nselect.browser-default\n  font-size: 18px\n  margin-top: 6px\n\n.container\n  background-color: #fff\n  margin-top: 10px\n  border-radius: 20px\n\n  @media only screen and (min-width: 601px)\n    padding: 0 30px\n    margin-top: 20px\n\n\n@media only screen and (max-width: 601px)\n  .main-background\n    &:before\n      background-image: url('../../assets/home-background.svg')\n      background-repeat: no-repeat\n      position: absolute\n      width: 100%\n      height: 100%\n      content: ''\n      background-size: cover\n      z-index: -1\n\n@media only screen and (min-width: 601px)\n  .main-background\n    background-image: url('../../assets/home-background.svg')\n    background-repeat: no-repeat\n    width: 100%\n    height: 100%\n    background-size: 100%\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=03df7729&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=03df7729&prod&scoped=true&lang=sass\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03df7729\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","isLoading","_e","directives","name","rawName","value","currency","expression","ref","class","isPhone","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","change","_l","items","curr","key","id","domProps","_v","_s","displayName","_m","defaultCurrency","displayedItems","baseRate","toFixed","description","staticRenderFns","md","MobileDetect","window","navigator","userAgent","components","Menu","Loader","PageHeader","props","data","phone","computed","get","sync","isSignedIn","mounted","fetchProfile","fetch","base","selectCurrencies","M","FormSelect","init","$refs","updateTextFields","loadChart","methods","columns","api","currenciesChart","chart","c3","bindto","x","axis","type","tick","format","count","padding","left","right","y","top","point","show","grid","component"],"sourceRoot":""}