"use strict";(self["webpackChunkmybudget2"]=self["webpackChunkmybudget2"]||[]).push([[168],{5846:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});r(2675),r(1844),r(2008),r(2062),r(2010),r(9868),r(6099);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-background"},[t("Menu"),t("div",{staticClass:"container container-wide"},[t("PageHeader",{attrs:{name:"Курсы валют"}},[e.isLoading?e._e():t("select",{directives:[{name:"model",rawName:"v-model",value:e.currency,expression:"currency"}],ref:"selectCurrencies",class:{"browser-default":e.isPhone},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currency=t.target.multiple?r:r[0]},e.change]}},e._l(e.items,(function(r){return t("option",{key:r.id,domProps:{value:r.name}},[e._v(" "+e._s(r.displayName)+" ")])})),0)]),e._m(0),t("div",{staticClass:"row"},[t("div",{staticClass:"col s12"},[e.isLoading?t("Loader"):t("table",[t("thead",[t("tr",[t("th",{staticClass:"name"},[e._v("Название")]),t("th",{staticClass:"usd right"},[e._v("Курс, "+e._s(e.defaultCurrency||"RUB"))]),t("th",[e._v("Описание")])])]),t("tbody",e._l(e.displayedItems,(function(r){return t("tr",{key:r.id},[t("td",{staticClass:"name"},[e._v(e._s(r.displayName))]),t("td",{staticClass:"usd right"},[t("pre",{staticClass:"rate"},[e._v(e._s(r.baseRate.toFixed(6)))])]),t("td",[t("span",{staticClass:"grey-text darken-1"},[e._v(e._s(r.description))])])])})),0)])],1)])],1)],1)},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col s12"},[t("div",{staticClass:"chart"})])])}],a=r(7546),i=r(4634),c=r(8643),u=r(4369),o=r(9529),d=r(5047),l=r(6399),f=r(6957),h=r(7965),p=r.n(h),v=r(1179),m=r.n(v),C=new(m())(window.navigator.userAgent),g={name:"Currencies",components:{Menu:u.A,Loader:o.A,PageHeader:d.A},props:{},data:function(){return{isPhone:null!=C.phone()}},computed:(0,c.A)((0,c.A)({},(0,f.Jt)("currencies/*")),{},{currency:(0,f.OH)("currencies/selected"),isSignedIn:(0,f.Jt)("user/isSignedIn"),defaultCurrency:(0,f.Jt)("user/defaultCurrency")}),mounted:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isSignedIn){t.next=3;break}return t.next=3,e.fetchProfile();case 3:return t.next=5,e.fetch({base:e.defaultCurrency});case 5:e.selectCurrencies=M.FormSelect.init(e.$refs.selectCurrencies,{}),M.updateTextFields(),e.loadChart();case 8:case"end":return t.stop()}}),t)})))()},methods:(0,c.A)((0,c.A)({},(0,f.T1)(["currencies/fetch","user/fetchProfile"])),{},{change:function(){this.loadChart()},loadChart:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){var r;return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.A.currenciesChart(e.currency,e.defaultCurrency);case 2:r=t.sent,e.chart=p().generate({bindto:".chart",data:{x:"x",columns:r},axis:{x:{type:"timeseries",tick:{format:"%d.%m.%Y",count:14},padding:{left:0,right:0}},y:{padding:{top:20}}},point:{show:!1},grid:{x:{show:!0},y:{show:!0}}});case 4:case"end":return t.stop()}}),t)})))()}})},y=g,_=r(1656),w=(0,_.A)(y,n,s,!1,null,"03df7729",null),A=w.exports}}]);
//# sourceMappingURL=home-group-legacy.4badfc33.js.map